(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{447:function(e,t,n){"use strict";n.r(t);var r=n(4),a=n(6),o=n.n(a),u=n(131),c=Object(u.a)(),i={getCurrentUser:function(){return o.a.get("/api/users/currentUser",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+c}}).then(function(e){return e.data})},loadUsers:function(){return o.a.get("/api/users/all",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+c}}).then(function(e){return e.data})},loadUsersInit:function(e){return o.a.get("/api/users/all",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}}).then(function(e){return e.data})},loadUserById:function(e){return o.a.get("/api/users/"+e,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+c}}).then(function(e){return e.data})},updateUser:function(e){return o.a.put("/api/users/update-role",{data:e,headers:{"Content-Type":"application/json","Access-Control-Allow-Methods":"*"}}).then(function(e){return e.data})},archiveNotification:function(e){return o.a.put("/api/users/notificationArchive",{data:e,headers:{"Content-Type":"application/json","Access-Control-Allow-Methods":"*"}}).then(function(e){return e.data})}};n.d(t,"loadUsersSuccess",function(){return l}),n.d(t,"loadUsersFailed",function(){return d}),n.d(t,"loadUser",function(){return m}),n.d(t,"updateUserSuccess",function(){return f}),n.d(t,"updateUserFailed",function(){return p}),n.d(t,"getCurrentUser",function(){return h}),n.d(t,"loadUsers",function(){return C}),n.d(t,"loadUsersInit",function(){return g}),n.d(t,"updateUser",function(){return E}),n.d(t,"archiveNotification",function(){return b});var s=Object(u.a)();function l(e){return{type:r.a.LOAD_USERS_SUCCESS,users:e}}function d(e){return{type:r.a.LOAD_USERS_FAILED,message:e}}function m(e,t){return{type:r.a.LOAD_USER,users:e,_id:t}}function f(e){return{type:r.a.UPDATE_USER_SUCCESS,user:e}}function p(e){return{type:r.a.UPDATE_USER_FAILED,message:e}}function h(){return function(e){try{return i.getCurrentUser().then(function(e){return console.log(e)}).catch(function(e){console.log(e)})}catch(t){return e(d(t.message))}}}function C(){return function(e){try{return i.loadUsers().then(function(t){return e(l(t.data))}).catch(function(e){return console.log("Error with the Api request")})}catch(t){return e(d(t.message))}}}function g(e){return console.log("users"),function(t){try{return i.loadUsersInit(e).then(function(e){return t(l(e.data))}).catch(function(e){return console.log("Error with the Api request")})}catch(n){return t(d(n.message))}}}function E(e){return function(t,n){s?o.a.defaults.headers.common.Authorization="Bearer ".concat(s):delete o.a.defaults.headers.common.Authorization;try{return i.updateUser(e).then(function(e){return t(f(e.data))}).catch(function(e){return console.log(e)})}catch(r){return e._id,t(p(r.message))}}}function b(e){return function(t,n){s?o.a.defaults.headers.common.Authorization="Bearer ".concat(s):delete o.a.defaults.headers.common.Authorization;try{return i.archiveNotification(e).then(function(e){return t(f(e.data))}).catch(function(e){return console.log("Error with the Api request")})}catch(r){return e._id,t(p(r.message))}}}},449:function(e,t,n){"use strict";n.r(t),n.d(t,"loadCustomersSuccess",function(){return s}),n.d(t,"loadCustomersFailed",function(){return l}),n.d(t,"createCustomerSuccess",function(){return d}),n.d(t,"createCustomerFailed",function(){return m}),n.d(t,"updateCustomerSuccess",function(){return f}),n.d(t,"updateCustomerFailed",function(){return p}),n.d(t,"deleteCustomerSuccess",function(){return h}),n.d(t,"deleteCustomerFailed",function(){return C}),n.d(t,"loadCustomers",function(){return g}),n.d(t,"loadCustomersInit",function(){return E}),n.d(t,"saveCustomer",function(){return b}),n.d(t,"updateCustomer",function(){return y}),n.d(t,"deleteCustomer",function(){return A});var r=n(4),a=n(6),o=n.n(a),u=n(131),c=n(490),i=Object(u.a)();function s(e){return{type:r.a.LOAD_CUSTOMERS_SUCCESS,customers:e}}function l(e){return{type:r.a.LOAD_CUSTOMERS_FAILED,message:e}}function d(e){return{type:r.a.CREATE_CUSTOMER_SUCCESS,customer:e}}function m(e){return{type:r.a.CREATE_CUSTOMER_FAILED,message:e}}function f(e){return{type:r.a.UPDATE_CUSTOMER_SUCCESS,customer:e}}function p(e){return{type:r.a.UPDATE_CUSTOMER_FAILED,message:e}}function h(e){return{type:r.a.DELETE_CUSTOMER_SUCCESS,id:e}}function C(e){return{type:r.a.DELETE_CUSTOMER_FAILED,message:e}}function g(){return function(e){try{return c.a.loadCustomers().then(function(t){return e(s(t.data))}).catch(function(e){return console.log("Error with the Api request")})}catch(t){return e(l(t.message))}}}function E(e){return function(t){try{return c.a.loadCustomersInit(e).then(function(e){return t(s(e.data))}).catch(function(e){return console.log("Error with the Api request")})}catch(n){return t(l(n.message))}}}function b(e){return function(t,n){o.a.defaults.headers.common.Authorization="Bearer "+i;try{return c.a.saveCustomer(e).then(function(e){return t(d(e.data))}).catch(function(e){return console.log("Error with the Api request")})}catch(r){return e.customerId,t(m(r.message))}}}function y(e){return function(t,n){o.a.defaults.headers.common.Authorization="Bearer "+i;try{return c.a.updateCustomer(e).then(function(e){return t(f(e.data))}).catch(function(e){return console.log("Error with the Api request")})}catch(r){return e.customerId,t(p(r.message))}}}function A(e){return function(t,n){try{return c.a.deleteCustomerById(e).then(function(n){n.success&&t(h(e))}).catch(function(e){return console.log("Error with the Api request")})}catch(r){return t(p(r.message))}}}},466:function(e,t,n){"use strict";var r=n(124),a=n(125),o=n(128),u=n(126),c=n(127),i=n(0),s=n.n(i),l=n(61),d=n(12),m=n(449),f=n(447),p=n(520);t.a=function(e){var t=function(t){function n(){return Object(r.a)(this,n),Object(o.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(c.a)(n,t),Object(a.a)(n,[{key:"componentWillMount",value:function(){this.props.auth.isAuthenticated||this.props.authActions.initAuth(),this.props.users.length||this.props.userActions.loadUsers(),this.props.customers.length||this.props.customerActions.loadCustomers()}},{key:"render",value:function(){return s.a.createElement(e,this.props)}}]),n}(i.Component);return Object(l.b)(function(e,t){return{auth:e.auth,customers:e.customers,users:e.users}},function(e){return{userActions:Object(d.bindActionCreators)(f,e),customerActions:Object(d.bindActionCreators)(m,e),authActions:Object(d.bindActionCreators)(p,e)}})(t)}},490:function(e,t,n){"use strict";var r=n(6),a=n.n(r),o=n(131),u=Object(o.a)(),c={loadCustomers:function(){return a.a.get("/api/customers",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+u}}).then(function(e){return e.data})},loadCustomerById:function(e){return a.a.get("/api/customers/"+e,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+u}}).then(function(e){return e.data})},loadCustomersInit:function(e){return a.a.get("/api/customers",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}}).then(function(e){return e.data})},saveCustomer:function(e){return a.a.post("/api/customers",{data:e,headers:{"Content-Type":"application/json",Authorization:"Bearer "+u,"Access-Control-Allow-Methods":"*"},mode:"cors"}).then(function(e){return e.data})},updateCustomer:function(e){return a.a.put("/api/customers",{method:"PUT",data:e,headers:{"Content-Type":"application/json","Access-Control-Allow-Methods":"*"}}).then(function(e){return e.data})},deleteCustomerById:function(e){return a.a.delete("/api/customers/"+e,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+u}}).then(function(e){return e.data})},updateCustomerAssign:function(e){return a.a.put("/api/customers/assign",{method:"PUT",data:e,headers:{"Content-Type":"application/json","Access-Control-Allow-Methods":"*"},mode:"cors"}).then(function(e){return e.data})}};t.a=c},492:function(e,t,n){"use strict";var r=n(124),a=n(125),o=n(128),u=n(126),c=n(127),i=n(0),s=n.n(i),l=n(680),d=n(131);t.a=function(e){return function(t){function n(e){var t;return Object(r.a)(this,n),(t=Object(o.a)(this,Object(u.a)(n).call(this,e))).state={loggedIn:!1},t}return Object(c.a)(n,t),Object(a.a)(n,[{key:"componentWillMount",value:function(){Object(d.a)()&&this.setState({loggedIn:!0})}},{key:"render",value:function(){return this.state.loggedIn?s.a.createElement(e,this.props):s.a.createElement(l.a,{to:"/login"})}}]),n}(i.Component)}},520:function(e,t,n){"use strict";n.r(t);var r=n(4),a=n(6),o=n.n(a);var u=n(491),c=n.n(u),i=function(e){return localStorage.setItem("jwtToken",e),localStorage.setItem("currentUser",JSON.stringify(c()(e))),new Promise(function(e,t){setTimeout(e,100)})};function s(e){return{type:r.a.SET_CURRENT_USER,user:e}}function l(e){return function(t){return t(s(c()(e))),i(e),Promise.resolve()}}function d(){return function(e){var t;localStorage.removeItem("jwtToken"),(t=!1)?o.a.defaults.headers.common.Authorization="Bearer ".concat(t):delete o.a.defaults.headers.common.Authorization,e(s({}))}}function m(){return function(e){var t=localStorage.getItem("jwtToken");if(t)return e(s(c()(t)))}}function f(){}n.d(t,"setCurrentUser",function(){return s}),n.d(t,"login",function(){return l}),n.d(t,"logout",function(){return d}),n.d(t,"initAuth",function(){return m}),n.d(t,"getCurrentUser",function(){return f})},701:function(e,t,n){"use strict";n.r(t);var r=n(11),a=n(124),o=n(125),u=n(128),c=n(126),i=n(127),s=n(0),l=n.n(s),d=n(61),m=n(710),f=n(679),p=n(687),h=n(233),C=n(466),g=function(e){return e.map(function(e){return{name:e.name,url:"/folder",icon:"icon-layers",children:[{name:"Add Board",url:"/addBoard/".concat(e._id),icon:"icon-pencil"}].concat(Object(r.a)(e.boards.map(function(e){return{name:e.name,url:"/board/".concat(e._id)}})))}})},E=n(445),b=[{title:!0,name:"Oumar",image:"icon-speedometer"},{name:"Dashboard",url:"/dashboard",icon:"icon-speedometer"},{title:!0,name:"CUSTOMERS",wrapper:{element:"",attributes:{}},class:""},{name:"Customers Overview",url:"/customers",icon:"icon-people"},{title:!0,name:"Notification",wrapper:{element:"",attributes:{}}},{name:"messages",url:"/notification",icon:"icon-envelope-letter"},{title:!0,name:"PROJECTS",wrapper:{element:"",attributes:{}},class:""},{name:"Overview",url:"/overview"}],y=n(492),A=l.a.lazy(function(){return n.e(15).then(n.bind(null,694))}),O=l.a.lazy(function(){return Promise.all([n.e(1),n.e(5),n.e(35),n.e(16)]).then(n.bind(null,702))}),j=l.a.lazy(function(){return n.e(17).then(n.bind(null,716))}),S=l.a.lazy(function(){return Promise.all([n.e(0),n.e(1),n.e(18)]).then(n.bind(null,711))}),U=l.a.lazy(function(){return Promise.all([n.e(0),n.e(19)]).then(n.bind(null,700))}),v=l.a.lazy(function(){return n.e(20).then(n.bind(null,706))}),T=l.a.lazy(function(){return n.e(21).then(n.bind(null,712))}),w=l.a.lazy(function(){return n.e(22).then(n.bind(null,713))}),_=l.a.lazy(function(){return Promise.all([n.e(0),n.e(2),n.e(34),n.e(23)]).then(n.bind(null,707))}),z=l.a.lazy(function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(4),n.e(24)]).then(n.bind(null,703))}),I=[{path:"/",exact:!0,name:"Home",component:k},{path:"/logged",name:"Logging Success",component:A},{path:"/dashboard",name:"Dashboard",component:O},{path:"/customers",exact:!0,name:"Customers",component:Object(y.a)(j)},{path:"/customer/edit/:id",name:"Edit Customer",component:Object(y.a)(U)},{path:"/customer/add",name:"Create a new Customer",component:Object(y.a)(U)},{path:"/customers/:id",exact:!0,name:"Customer Info",component:Object(y.a)(S)},{path:"/users",exact:!0,name:"Users Page",component:Object(y.a)(v)},{path:"/users/:id",exact:!0,name:"User Info",component:Object(y.a)(T)},{path:"/Notification/",exact:!0,name:"Messages",component:Object(y.a)(w)},{path:"/addBoard/:folder_id",name:"Create a new Board",component:Object(y.a)(_)},{path:"/editBoard/:folder_id",name:"Edit Board",component:Object(y.a)(_)},{path:"/board/:id",name:"Board Page",component:Object(y.a)(z)}],B=l.a.lazy(function(){return n.e(13).then(n.bind(null,693))}),R=l.a.lazy(function(){return n.e(14).then(n.bind(null,709))}),D=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).loading=function(){return l.a.createElement("div",{className:"animated fadeIn pt-1 text-center"},"Loading...")},n}return Object(i.a)(t,e),Object(o.a)(t,[{key:"signOut",value:function(e){var t=this;e.preventDefault(),(localStorage.removeItem("jwtToken"),new Promise(function(e,t){setTimeout(e,100)})).then(function(){return t.props.history.push("/login")})}},{key:"render",value:function(){var e=this,t={items:[].concat(Object(r.a)(b),Object(r.a)(g(this.props.folders)))};return l.a.createElement("div",{className:"app"},l.a.createElement(E.e,{fixed:!0},l.a.createElement(s.Suspense,{fallback:this.loading()},l.a.createElement(R,{onLogout:function(t){return e.signOut(t)}}))),l.a.createElement("div",{className:"app-body"},l.a.createElement(E.h,{fixed:!0,display:"lg"},l.a.createElement(E.k,null),l.a.createElement(E.j,null),l.a.createElement(s.Suspense,null,l.a.createElement(E.m,Object.assign({navConfig:t},this.props))),l.a.createElement(E.i,null),l.a.createElement(E.l,null)),l.a.createElement("main",{className:"main"},l.a.createElement(E.c,{appRoutes:I}),l.a.createElement(h.a,{fluid:!0},l.a.createElement(s.Suspense,{fallback:this.loading()},l.a.createElement(m.a,null,I.map(function(e,t){return e.component?l.a.createElement(f.a,{key:t,path:e.path,exact:e.exact,name:e.name,render:function(t){return l.a.createElement(e.component,t)}}):null}),l.a.createElement(p.a,{from:"/",to:"/dashboard"})))))),l.a.createElement(E.d,null,l.a.createElement(s.Suspense,{fallback:this.loading()},l.a.createElement(B,null))))}}]),t}(s.Component);var k=t.default=Object(d.b)(function(e){return{folders:e.folders}},null)(Object(C.a)(D))}}]);
//# sourceMappingURL=8.c3c94775.chunk.js.map